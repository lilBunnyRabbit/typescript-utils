<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>modules/event-emitter | @lilbunnyrabbit/utils</title><meta name="description" content="Documentation for @lilbunnyrabbit/utils"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@lilbunnyrabbit/utils</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../index.html">@lilbunnyrabbit/utils</a></li><li><a href="modules_event_emitter.html">modules/event-emitter</a></li></ul><h1>Module modules/event-emitter</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>The <a href="../classes/modules_event_emitter.EventEmitter.html" class="tsd-kind-class">EventEmitter</a> class provides a powerful and flexible mechanism for managing and handling custom events,
similar in functionality to the standard <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/EventTarget">EventTarget</a>
interface found in web APIs.
This class allows for easy creation of event-driven architectures in <a href="https://www.typescriptlang.org/">TypeScript</a> applications,
enabling objects to publish events to which other parts of the application can subscribe.
It&#39;s particularly beneficial in scenarios where you need to implement custom event logic or
when working outside of environments where <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/EventTarget">EventTarget</a>
is not available or suitable.
With <a href="../classes/modules_event_emitter.EventEmitter.html" class="tsd-kind-class">EventEmitter</a>, you can define event types, emit events, and dynamically attach or detach event listeners,
all within a type-safe and intuitive API.</p>
<a id="md:usage" class="tsd-anchor"></a><h2><a href="#md:usage">Usage</a></h2><a id="md:creating-an-eventemitter" class="tsd-anchor"></a><h3><a href="#md:creating-an-eventemitter">Creating an <a href="../classes/modules_event_emitter.EventEmitter.html" class="tsd-kind-class">EventEmitter</a></a></h3><p>Start by creating an instance of the <a href="../classes/modules_event_emitter.EventEmitter.html" class="tsd-kind-class">EventEmitter</a> class.
You can define the types of events it will handle using a <a href="https://www.typescriptlang.org/">TypeScript</a> interface.</p>
<pre><code class="language-ts"><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-6">MyEvents</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">data</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">loaded</span><span class="hl-1">: </span><span class="hl-6">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">error</span><span class="hl-1">: </span><span class="hl-6">Error</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">emitter</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">EventEmitter</span><span class="hl-1">&lt;</span><span class="hl-6">MyEvents</span><span class="hl-1">&gt;();</span>
</code><button>Copy</button></pre>
<a id="md:registering-event-listeners" class="tsd-anchor"></a><h3><a href="#md:registering-event-listeners">Registering Event Listeners</a></h3><p>To listen for events, use the <a href="../classes/modules_event_emitter.EventEmitter.html#on" class="tsd-kind-method">EventEmitter.on</a> method.
Define the event type and provide a callback function that will be executed when the event is emitted.</p>
<pre><code class="language-ts"><span class="hl-5">emitter</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;data&quot;</span><span class="hl-1">, (</span><span class="hl-5">data</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Data&quot;</span><span class="hl-1">, </span><span class="hl-5">data</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">emitter</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;loaded&quot;</span><span class="hl-1">, </span><span class="hl-4">function</span><span class="hl-1"> () {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;Emitter loaded&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1"> </span><span class="hl-8">// EventEmitter&lt;MyEvents&gt;</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">emitter</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;error&quot;</span><span class="hl-1">, (</span><span class="hl-5">error</span><span class="hl-1">: </span><span class="hl-6">Error</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">`Error: </span><span class="hl-4">${</span><span class="hl-5">error</span><span class="hl-9">.</span><span class="hl-5">message</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:removing-event-listeners" class="tsd-anchor"></a><h3><a href="#md:removing-event-listeners">Removing Event Listeners</a></h3><p>You can remove a specific event listener by using the <a href="../classes/modules_event_emitter.EventEmitter.html#off" class="tsd-kind-method">EventEmitter.off</a> method,
specifying the event type and the listener to remove.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-0">onError</span><span class="hl-1"> = (</span><span class="hl-5">error</span><span class="hl-1">: </span><span class="hl-6">Error</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-5">error</span><span class="hl-1">);</span><br/><br/><span class="hl-5">emitter</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;error&quot;</span><span class="hl-1">, </span><span class="hl-5">onError</span><span class="hl-1">);</span><br/><br/><span class="hl-8">// ...</span><br/><br/><span class="hl-5">emitter</span><span class="hl-1">.</span><span class="hl-0">off</span><span class="hl-1">(</span><span class="hl-2">&quot;error&quot;</span><span class="hl-1">, </span><span class="hl-5">onError</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:emitting-events" class="tsd-anchor"></a><h3><a href="#md:emitting-events">Emitting Events</a></h3><p>Use the <a href="../classes/modules_event_emitter.EventEmitter.html#emit" class="tsd-kind-method">EventEmitter.emit</a> method to trigger an event.
This will invoke all registered listeners for that event type.</p>
<pre><code class="language-ts"><span class="hl-5">emitter</span><span class="hl-1">.</span><span class="hl-0">emit</span><span class="hl-1">(</span><span class="hl-2">&quot;data&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Sample data&quot;</span><span class="hl-1">);</span><br/><span class="hl-5">emitter</span><span class="hl-1">.</span><span class="hl-0">emit</span><span class="hl-1">(</span><span class="hl-2">&quot;loaded&quot;</span><span class="hl-1">);</span><br/><span class="hl-5">emitter</span><span class="hl-1">.</span><span class="hl-0">emit</span><span class="hl-1">(</span><span class="hl-2">&quot;error&quot;</span><span class="hl-1">, </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Error</span><span class="hl-1">(</span><span class="hl-2">&quot;Oh no!&quot;</span><span class="hl-1">));</span>
</code><button>Copy</button></pre>
<a id="md:extending-eventemitter" class="tsd-anchor"></a><h3><a href="#md:extending-eventemitter">Extending <a href="../classes/modules_event_emitter.EventEmitter.html" class="tsd-kind-class">EventEmitter</a></a></h3><p>For more specialized use cases, you can extend the <a href="../classes/modules_event_emitter.EventEmitter.html" class="tsd-kind-class">EventEmitter</a> class.
This allows you to create a custom event emitter with additional methods or properties tailored to specific needs.
When extending, you can still take full advantage of the type safety and event handling features of the base class.</p>
<pre><code class="language-ts"><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-6">MyServiceEvents</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">dataLoaded</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">error</span><span class="hl-1">: </span><span class="hl-6">Error</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-8">// Extending the EventEmitter class</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-6">MyService</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-6">EventEmitter</span><span class="hl-1">&lt;</span><span class="hl-6">MyServiceEvents</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-8">// Custom method</span><br/><span class="hl-1">  </span><span class="hl-0">loadData</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-3">try</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-8">// Load data and emit a `dataLoaded` event</span><br/><span class="hl-1">      </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">data</span><span class="hl-1"> = </span><span class="hl-2">&quot;Sample Data&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">emit</span><span class="hl-1">(</span><span class="hl-2">&quot;dataLoaded&quot;</span><span class="hl-1">, </span><span class="hl-5">data</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-3">catch</span><span class="hl-1"> (</span><span class="hl-5">error</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-8">// Emit an `error` event</span><br/><span class="hl-1">      </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">emit</span><span class="hl-1">(</span><span class="hl-2">&quot;error&quot;</span><span class="hl-1">, </span><span class="hl-5">error</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">service</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">MyService</span><span class="hl-1">();</span><br/><br/><span class="hl-5">service</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;dataLoaded&quot;</span><span class="hl-1">, </span><span class="hl-4">function</span><span class="hl-1"> (</span><span class="hl-5">data</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">`Data loaded: </span><span class="hl-4">${</span><span class="hl-5">data</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1"> </span><span class="hl-8">// MyService</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">service</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;error&quot;</span><span class="hl-1">, (</span><span class="hl-5">error</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">`Error: </span><span class="hl-4">${</span><span class="hl-5">error</span><span class="hl-9">.</span><span class="hl-5">message</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-1">));</span><br/><br/><span class="hl-8">// Using the custom method</span><br/><span class="hl-5">myEmitter</span><span class="hl-1">.</span><span class="hl-0">loadData</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p>In this example, <code>MyService</code> extends the <a href="../classes/modules_event_emitter.EventEmitter.html" class="tsd-kind-class">EventEmitter</a> class, adding a custom method <code>loadData</code>.
This method demonstrates how to <a href="../classes/modules_event_emitter.EventEmitter.html#emit" class="tsd-kind-method">EventEmitter.emit</a> <code>dataLoaded</code> and <code>error</code> events,
integrating the event-emitting functionality into a more complex operation.</p>
</div><div class="tsd-comment tsd-typography"></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/lilBunnyRabbit/typescript-utils/blob/9834762/src/modules/event-emitter/index.ts#L1">modules/event-emitter/index.ts:1</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><h3 class="tsd-index-heading uppercase">Index</h3><section class="tsd-index-section"><h3 class="tsd-index-heading">Classes</h3><div class="tsd-index-list"><a href="../classes/modules_event_emitter.EventEmitter.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Event<wbr/>Emitter</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Type Aliases</h3><div class="tsd-index-list"><a href="../types/modules_event_emitter.EventListener.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Event<wbr/>Listener</span></a>
</div></section></section></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:usage"><span>Usage</span></a><ul><li><a href="#md:creating-an-eventemitter"><span>Creating an <wbr/>Event<wbr/>Emitter</span></a></li><li><a href="#md:registering-event-listeners"><span>Registering <wbr/>Event <wbr/>Listeners</span></a></li><li><a href="#md:removing-event-listeners"><span>Removing <wbr/>Event <wbr/>Listeners</span></a></li><li><a href="#md:emitting-events"><span>Emitting <wbr/>Events</span></a></li><li><a href="#md:extending-eventemitter"><span>Extending <wbr/>Event<wbr/>Emitter</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>@lilbunnyrabbit/utils</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><div class="overlay"></div></body></html>